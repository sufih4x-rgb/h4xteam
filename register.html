<!DOCTYPE html>
<html>
<head>
<title>H4XTEAM - Register</title>
<style>
body{background:#000;color:#0affff;text-align:center;font-family:Arial;padding-top:40px}
input,button{width:80%;padding:12px;margin:10px;border-radius:8px;border:none}
input{background:#111;color:#0affff;border:1px solid #0affff}
button{background:#0affff;color:#000;font-weight:bold;cursor:pointer}
</style>
</head>
<body>

<h1>Create Account</h1>

<input id="email" type="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="registerUser()">Register</button>
<br><a href="index.html">Back to Login</a>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, sendEmailVerification } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig={
 apiKey:"AIzaSyAzfvbiqRqsQwBOOIkegxJD09di-S_tfHg",
 authDomain:"test-eb5e7.firebaseapp.com",
 databaseURL:"https://test-eb5e7-default-rtdb.firebaseio.com",
 projectId:"test-eb5e7",
 storageBucket:"test-eb5e7.appspot.com",
 messagingSenderId:"366282855653",
 appId:"1:366282855653:web:dca7e000f5a22fb11f300c",
 measurementId:"G-ECKCTBLQJ8"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getDatabase(app);

window.registerUser=function(){
 let email=document.getElementById("email").value;
 let pass=document.getElementById("password").value;

 createUserWithEmailAndPassword(auth,email,pass)
 .then(async user=>{
   await set(ref(db,"users/"+user.user.uid),{
     email:email,
     balance:0,
     vip:0,
     wins:0,
     deposits:0,
     device:""
   });

   sendEmailVerification(auth.currentUser);
   alert("Verification email sent");
   window.location="index.html";
 })
 .catch(e=>alert("Error: "+e.message));
}
</script>

</body>
</html>
