<!DOCTYPE html>
<html>
<head>
<title>Profile - H4XTEAM</title>
<style>
body{background:#000;color:#0affff;text-align:center;font-family:Arial;padding-top:40px}
button{background:#0affff;color:#000;padding:15px;width:80%;border:none;border-radius:8px;margin:20px;font-weight:bold}
#box{padding:20px;border:1px solid #0affff;margin:20px;border-radius:8px}
</style>
</head>
<body>

<h1>Profile</h1>

<div id="box">
 <p>Email: <span id="email"></span></p>
 <p>Balance: â‚¹<span id="balance"></span></p>
 <p>VIP Level: <span id="vip"></span></p>
 <p>Total Wins: <span id="wins"></span></p>
 <p>Total Deposits: <span id="deposits"></span></p>
</div>

<button onclick="logout()">Logout</button>
<button onclick="window.location='dashboard.html'">Back</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig={
 apiKey:"AIzaSyAzfvbiqRqsQwBOOIkegxJD09di-S_tfHg",
 authDomain:"test-eb5e7.firebaseapp.com",
 databaseURL:"https://test-eb5e7-default-rtdb.firebaseio.com",
 projectId:"test-eb5e7",
 storageBucket:"test-eb5e7.appspot.com",
 messagingSenderId:"366282855653",
 appId:"1:366282855653:web:dca7e000f5a22fb11f300c",
 measurementId:"G-ECKCTBLQJ8"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getDatabase(app);

onAuthStateChanged(auth, async user=>{
 if(!user) return window.location="index.html";

 let snap = await get(ref(db,"users/"+user.uid));
 let d = snap.val();

 document.getElementById("email").innerText = d.email;
 document.getElementById("balance").innerText = d.balance;
 document.getElementById("vip").innerText = d.vip;
 document.getElementById("wins").innerText = d.wins;
 document.getElementById("deposits").innerText = d.deposits;
});

window.logout = ()=>signOut(auth);
</script>

</body>
</html>
